const d=parseFloat(document.getElementById("totalOrden").value)||0,r=document.querySelectorAll('input[name^="medio_pago["]'),n=document.getElementById("formMediosPago"),o=document.createElement("button");o.id="agregarEditarButton";o.textContent="Editar Medios de Pago";o.className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600";o.type="button";o.addEventListener("click",()=>{r.forEach(a=>{a.disabled=!1,a.classList.remove("bg-gray-200","cursor-not-allowed"),a.classList.add("border-red-500","border-gray-300")});const e=document.getElementById("diferencia");e.textContent="Diferencia: "+d});const c=()=>{r.forEach(e=>{e.disabled=!0,e.classList.add("bg-gray-200","cursor-not-allowed"),e.classList.remove("border-red-500","border-gray-300")}),n.appendChild(o)},s=()=>Array.from(r).reduce((e,a)=>{const t=parseFloat(a.value)||0;return e+t},0);n.addEventListener("submit",e=>{s()!==d&&(e.preventDefault(),r.forEach(t=>{t.value===""||parseFloat(t.value)===0?(t.classList.add("border-red-500"),t.classList.remove("border-gray-300")):(t.classList.remove("border-red-500"),t.classList.add("border-gray-300"))}),alert("La suma de los medios de pago debe ser igual al total de la orden."))});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("printButton");e&&e.addEventListener("click",function(){window.print()})});r.forEach(e=>{e.addEventListener("blur",()=>{const a=s(),t=d-a;t===0?c():(e.classList.remove("border-red-500"),e.classList.add("border-gray-300"));const l=document.getElementById("diferencia");console.log("Total de la orden:",a),l.textContent="Diferencia: "+t})});
