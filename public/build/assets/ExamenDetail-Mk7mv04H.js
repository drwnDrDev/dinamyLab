import{a as c}from"./index-B9ygI19o.js";import{R as e}from"./index-C2KC86Ta.js";import{c as _}from"./client-DCM6oUEP.js";function k({examen:a}){const[o,s]=e.useState(!1),[i,p]=e.useState(a.valor),[m,E]=e.useState(a.sexo_aplicable||null),[n,v]=e.useState(a.activo),[h,x]=e.useState(a.nombre_alternativo||""),[y,g]=e.useState(!1),u=["F","M","A"],N=()=>{const r=(u.indexOf(m)+1)%u.length,l=u[r];E(l),c.patch(`/api/examenes/${a.id}/update`,{sexo_aplicable:l}).then(d=>{d.data.success||alert("Error al actualizar el sexo aplicable")}).catch(d=>{console.error("Error en la solicitud:",d),alert("Ocurri贸 un error al actualizar")})},b=t=>{switch(t){case"F":return{texto:"Femenino",color:"px-2 py-1 bg-pink-200 text-pink-800 rounded"};case"M":return{texto:"Masculino",color:"px-2 py-1 bg-blue-200 text-blue-800 rounded"};case"A":return{texto:"Ambos Sexos",color:"px-2 py-1 bg-gray-200 text-gray-800 rounded"};default:return{texto:"Ambos Sexos",color:"px-2 py-1 bg-gray-200 text-gray-800 rounded"}}},f=()=>{c.patch(`/api/examenes/${a.id}/update`,{valor:i}).then(t=>{t.data.success?p(t.data.data.examen.valor):alert("Error al actualizar el valor")}).catch(t=>{console.error("Error en la solicitud:",t),alert("Ocurri贸 un error al actualizar el valor")}),s(!o)},A=t=>{p(t.target.value)},S=()=>{const t=!n;v(t),c.post(`/api/examenes/${a.id}/update`,{activo:t}).then(r=>{r.data.success||alert("Error al actualizar el estado")}).catch(r=>{console.error("Error en la solicitud:",r),alert("Ocurri贸 un error al actualizar el estado")})},C=({parametro:t,totalParametros:r})=>e.createElement("div",{className:"border p-4 my-2 rounded shadow-sm"},e.createElement("h4",{className:"text-md font-medium text-gray-800"},t.nombre),e.createElement("p",{className:"text-sm text-gray-600"},t.descripcion),e.createElement("p",{className:"text-sm text-gray-600"},"Valores de referencia: ",t.valores_referencia),r>1&&e.createElement("hr",{className:"my-2"})),w=t=>{const r=t.target.value;c.patch(`/api/examenes/${a.id}/update`,{nombre_alternativo:r}).then(l=>{l.data.success?x(l.data.data.examen.nombre_alternativo):alert("Error al actualizar el nombre alternativo")}).catch(l=>{console.error("Error en la solicitud:",l),alert("Ocurri贸 un error al actualizar el nombre alternativo")}),x(t.target.value)};return e.createElement(e.Fragment,null,e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-center gap-2"},e.createElement("div",{className:"flex flex-col w-full md:w-2/5 items-center gap-4"},e.createElement("h3",{className:"w-full"},y?e.createElement(e.Fragment,null,e.createElement("label",{htmlFor:"nombre_alternativo"}),e.createElement("input",{type:"text",id:"nombre_alternativo",value:h,onChange:w,className:"border border-gray-300 rounded px-2 py-1 text-sm"}),e.createElement("button",{onClick:()=>g(!1),className:"ml-2 px-2 py-1 bg-blue-500 text-white rounded text-sm"},"Guardar")):e.createElement("div",{className:"cursor-pointer flex flex-col",onClick:()=>g(!0)},e.createElement("span",{className:"bg-gray-200 text-balance"},"Nombre alternativo: "),"    ",a.nombre_alternativo||"Sin nombre alternativo")),e.createElement("h3",{className:"text-lg font-light text-green-700"},o?e.createElement(e.Fragment,null,e.createElement("input",{type:"text",value:i,onChange:A,className:"border border-gray-300 rounded px-2 py-1 text-sm"}),e.createElement("button",{onClick:f,className:"ml-2 px-2 py-1 bg-blue-500 text-white rounded text-sm"},"Guardar")):e.createElement("span",null,"Valor: ",i),e.createElement("span",{className:"ml-2 text-sm text-blue-600 cursor-pointer",onClick:s},"edit"))),e.createElement("div",{className:"flex flex-col w-full md:w-2/5 items-center gap-4"},e.createElement("span",{className:"px-2 py-1 bg-green-200 text-green-800 rounded"},n?"Activo":"Inactivo",e.createElement("button",{onClick:S,className:`ml-2 px-2 py-1 ${n?"bg-red-500 text-white":"bg-green-500 text-white"} rounded text-sm`},n?"Desactivar":"Activar")),a.sexo_aplicable!==void 0&&e.createElement("button",{onClick:N,className:`${b(m).color} cursor-pointer hover:opacity-80 transition-opacity`},b(m).texto),a.categoria&&e.createElement("span",{className:"px-2 py-1 bg-gray-200 text-gray-800 rounded"},a.categoria.nombre))),e.createElement("p",{className:"max-w-11/12 p-4"},a.descripcion?.charAt(0).toUpperCase()+a.descripcion?.slice(1))),e.createElement("section",null,a.parametros?.map(t=>e.createElement(C,{key:t.id,parametro:t,totalParametros:a.parametros.length}))))}if(document.getElementById("examen-detail-root")){const a=document.getElementById("examen-detail-root"),o=JSON.parse(a.getAttribute("data-examen"))||null;_.createRoot(a).render(e.createElement(k,{examen:o}))}
