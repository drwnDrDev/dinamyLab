async function n(){const e={documentos_paciente:"documentos_paciente",documentos_pagador:"documentos_pagador",paises:"paises",municipios:"municipios",eps:"eps",cups:"cups",defaultCies:"default_cies",servicios_habilitados:"servicios_habilitados",via_ingreso:"via_ingreso",modalidad_atencion:"modalidad_atencion",finalidad_consulta:"finalidad_consulta"};try{const a=await fetch("/api/static-data-for-frontend");if(!a.ok)throw new Error(`Error en la respuesta del servidor: ${a.status} ${a.statusText}`);const o=await a.json();if(localStorage.setItem("frontend_data_last_update",new Date().toISOString()),o.error){console.error("Error recibido del servidor:",o.error);return}Object.entries(e).forEach(([t,s])=>{o[t]?localStorage.setItem(`${s}_data`,JSON.stringify(o[t])):console.warn(`Datos para ${t} no encontrados en la respuesta del servidor.`)})}catch(a){console.error("Error al cargar o almacenar datos para el frontend:",a)}}function r(){const e=localStorage.getItem("frontend_data_last_update"),a=1440*60*1e3;!e||new Date-new Date(e)>a?(console.log("Datos en localStorage no encontrados o desactualizados. Cargando desde el servidor..."),n()):console.log("Datos estáticos ya existen en localStorage y están actualizados.")}document.addEventListener("DOMContentLoaded",()=>{r()});
